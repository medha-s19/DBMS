show databases;
DATABASE lab1;
USE lab1;
show tables;
CREATE TABLE Department(
DeptId INT PRIMARY KEY,
Deptname VARCHAR(15)
);

CREATE TABLE Student(
USN VARCHAR(20) PRIMARY KEY,
SName VARCHAR(50) NOT NULL,
DeptId INT,
DOB DATE,
FOREIGN KEY (DeptId) REFERENCES Department(DeptId)
);

CREATE TABLE coursereg(
USN VARCHAR(20),
courseid VARCHAR(10),
PRIMARY KEY(USN, courseid)
);

ALTER TABLE coursereg
ADD COLUMN semester INT;

ALTER TABLE coursereg
ADD CONSTRAINT fk_coursereg_usn FOREIGN KEY(USN) REFERENCES Student(USN);

CREATE TABLE Course (
CourseID VARCHAR(10) PRIMARY KEY,
CourseName VARCHAR(20) NOT NULL,
credits INT,
DeptId INT,
FOREIGN KEY (DeptId) REFERENCES Department(DeptId)
);

ALTER TABLE coursereg
ADD CONSTRAINT fk_coursereg_courseid FOREIGN KEY(courseid) REFERENCES Course(CourseID);

CREATE TABLE marks (
USN VARCHAR(20),
courseid VARCHAR(10),
score INT,
FOREIGN KEY (USN) REFERENCES Student(USN),
FOREIGN KEY (courseid) REFERENCES Course(CourseID)
);

INSERT INTO Department VALUES
(1, 'Phy'),
(2, 'CS');

DESC Department;

INSERT INTO Student VALUES
('24BSC101', 'Ravi Kumar', 1, '2002-05-12'),
('24BSC102', 'Anita Sharma', 2, '2001-11-23');

INSERT INTO Course VALUES
('CS201', 'QUANTUM MECHANICS', 4, 1),
('CS202', 'DBMS', 3, 2);

INSERT INTO coursereg VALUES
('24BSC101', 'CS201', 1),
('24BSC102', 'CS202', 1);

DESC coursereg;

INSERT INTO marks VALUES
('24BSC101', 'CS201', 87),
('24BSC102', 'CS202', 87);

SELECT * FROM Student;
SELECT * FROM Department;
SELECT * FROM coursereg;
SELECT * FROM Course;
